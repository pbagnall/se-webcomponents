<!doctype html>
<html lang="en/GB">
<head>
   <title>Date Picker demo</title>
   <script src='/scripts/main.js'></script>
   <link rel='stylesheet' href='/styles/styles.css' />
   <link rel='stylesheet' href='/datepicker/demostyles.css' />
   <script type='text/javascript'>
      function dateChanged(event) {
         const output = document.getElementById('output');
         const date = dayjs(event.value);
         output.replaceChildren(document.createTextNode(date.format("DD-MMM-YYYY")));
      }

      function popupTriggered() {
         const trigger = document.getElementById("trigger");
         if (trigger.textContent === 'Open popup') {
            document.getElementById("popup").open();
            trigger.textContent = 'Close popup'
         } else {
            document.getElementById("popup").close();
         }
      }

      function popupClosed() {
         const trigger = document.getElementById("trigger");
         trigger.textContent = 'Open popup';
      }
   </script>
</head>
<body>
<header>
   <h1>Web Components demonstration</h1>
</header>
<nav>
   <ul>
      <li><a href='/'>Overview</a></li>
      <li class='selected'>Date Picker</li>
      <li><a href='/popup/'>Popup</a></li>
      <li><a href='/selection/'>Selection</a></li>
   </ul>
</nav>
<main>
   <ul class='subnav'>
      <li class='selected'>Demo</li>
      <li><a href='/datepicker/docs.html'>Documentation</a></li>
   </ul>

   <div>
      <section>
         <h2>With default styling</h2>
         <se-datepicker date='today' onchange='dateChanged(event)'></se-datepicker>

         <h2>Output</h2>
         <output id='output'></output>
      </section>

      <section>
         <h2>With custom styling</h2>
         <se-datepicker date='2024-05-21' class='alternate'></se-datepicker>
      </section>

      <section id='formecho'>
         <div>
            <h2>In a form</h2>
            <form action='/echo.html' target='frame' method='get'>
               <se-datepicker name='date' date='2023-1-12'></se-datepicker>
               <br />
               <input type='submit' value='Save date' />
            </form>
         </div>
         <div>
            <h2>Form target</h2>
            <iframe name='frame' src='/echo.html'></iframe>
         </div>

         <button id='trigger' onclick='popupTriggered()'>Open popup</button>
         <se-popup id='popup' anchor='trigger' anchor-direction='se,em,en' onclose='popupClosed()'>
            This is a popup. It has a bunch of content in it. And then some more, and some more.
         </se-popup>
      </section>
   </div>

   <section>
      <details open>
         <summary>Features</summary>
         <ul>
            <li>Multiple month display - time is a continuum!</li>
            <li>Infinitely Scrollable calendar</li>
            <li>Styleable using CSS custom properties</li>
            <li>Can be fully controlled by keyboard</li>
            <li>
               Can be used as a form field, so can be used as a drop-in replacement for an &lt;input type='date'&gt;
               field
            </li>
            <li>Fires change event when a date is selected</li>
         </ul>
      </details>
   </section>
</main>
</body>
</html>
